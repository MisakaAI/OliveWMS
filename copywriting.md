# Olive WMS 文案

众所周知，《牧场物语 橄榄镇与希望的大地》是一个以全面推进乡村振兴，加快农村现代化建设为主要目标的游戏。
游戏中有各式各样的加工机，生产出来的农副产品可以卖掉赚钱，但是同时游戏中出货箱的容量有限，导致产品经常不能及时卖掉，只能先放在箱子里。

但是，箱子的容量也是有限的，就需要很多很多的箱子来放东西，将物品分类放进不同的箱子，可以在需要的时候快速的找到所需的物品。
但是橄榄镇又不能像《我的世界》一样，给箱子上加一个木牌，直接在上面写明用途。
这就导致寻找物品很不方便，记忆力不好的情况下，经常要一个箱子一个箱子的看。

恰好我之前的工作是在某个厂子里打工，我也从中也学习到了一点工厂的现代化仓储管理的经验。
于是，为了解决这个问题，我决定给橄榄镇开发一个 WMS 来管理游戏中的物品。
顺便也来做个关于工厂仓库存储系统的简单的科普吧。

（没用的知识又增加了.jpg）

WMS 的全称是 Warehouse Management System，直译就是仓库管理系统。
简单来说，使用它对仓库中的货物进行管理，可以减少人工错误，提高仓库人员的工作效率。

一个成熟的 WMS 通常入库、出库、库存管理、报表与分析等多种功能。
而我开发的只是一个不成熟的超小型的 WMS 系统，只实现了一些基本功能，主打一个能用就行。

仓库管理的基础是将仓库进行数字化，添加到 WMS 系统中。
以橄榄镇这个游戏为例，牧场主要有三个区。
我们也根据这三个区设置三个仓库。
几个箱子放在一起，算是一个的库区。
而每一个箱子都作为一个单独的货架。
箱子中的每一个格子，都算作一个储位。

为了精细的管理每一个批次的产品，实现先进先出、质量追溯、效期预警等功能。

实现这些功能，需要我们拥有一个批次管理的功能。
批次管理能够追踪每批产品的生产日期，以及生产所使用的原材料，并且根据原材料的批次继续追踪，实现精准溯源。

当然，效期预警在橄榄镇里可能用不上，但放到双子村、风之集市这种有保鲜度设定的作品中，就很好理解了。
如果产品没有及时卖出去，在仓库中放到变质也是有可能的，届时就会需要这种功能，提醒库存中有哪些产品即将过期。

下面用一个完整的工作流程，来简单的讲解各功能模块的作用及如何使用。

订单 - 进货 — 加工/生产 — 质检 - 销售

订单不归 WMS 系统处理，通常是ERP系统处理，这里不详细说明。
我们从去市政厅布告栏接个任务，假装有个订单。
当然，如果你有足够强的的实力，能够预测会有人来订购你的产品，也可以提前生产一些产品，这样在客户下单后可以迅速交付产品。
啊……这个有点朝纲了，不属于本期视频的范围。

我们还是继续讲解 WMS 的使用流程。

首先是进货，进货是从镇上的商店购买原材料，这些商店就是我们的供应商。

创建一个供应商列表，把橄榄镇的每一个商店都加进来。

然后再创建一个产品列表，把产品的名称、类型、采购价格等信息添加到系统中。

然后就可以填写 WMS 的进货单，每次进货都需要创建一个进货单。
写明从哪里采购，采购的什么产品、采购的数量，以及放在哪个储位。

理论上还需要有一个对应的退货单，比如你买到的东西不合格，是需要把东西退回去的。
（rnm退钱.jpg）
但是橄榄镇游戏中不支持退货，所以这里就不进行示范了。

进货的时候，通常会进行一个质检 IQC（Incoming Quality Control，来料质量控制）的操作，也就是对供应商送来的产品进行检验，看是否合格。
好在游戏中，也买不到劣质商品，所以这一步可以省略。

生产的时候呢，先填写一个领料单。
写明生产哪个产品，生产多少个，需要领走哪些产品，领多少。
当然，如果你给产品设置了一个完整的BOM（Bill of Materials物料清单，即描述产品组成的技术文件），这一步也可以实现自动计算领料数量。

在无法保证能够生产出100%合格的产品的情况下，生产领料通常会计算上这部分损耗，多领一部分。
同时，这里也需要有一个退料单，将生产中没有使用完的东西退回仓库中。

生产结束后，需要对产品进行入库的操作。

那这里也是创建一个生产入库单。
写生产哪个产品，生产多少个，放到了哪个仓库的哪个位置。

有些产品生产步骤较多，并不是一次完工的。
这里就还需要一个半成品入库的功能。
将没有生产完成的产品，放入仓库，等待下一步的加工。

那么，最终的产品生产完成后，要做什么呢？是直接销售出去吗？
当然不是，在这之前，还要进行检验，确保它们都是合格的产品。
有些产品是每件都要检查，也有的是抽检，这也取决于产品的类型。
毕竟有一些具有破坏性测试，测试完成后的产品可就无法销售了。

FQC检验（Final Quality Control最终质量检验），有时也被称为OQC（Outgoing Quality Control 出货质量检验）。

但是，游戏里生产出来的产品一定都是合格的，所以这一步又可以省（偷）略（懒）了。

合格的产品，当然就可以销售出去了。
这里我们再做一个销货单，写入客户的名字、产品的名字、销售数量等信息。
这一步的大部分信息，都可以从订货单中同步。

现实中的情况时，有时候销售出去的产品，客户不满意，要进行退货。
这里就不能叫退货单了，会和前面进货之后退货的搞混。
所以这里叫销退单，意思是销售退货。

嗯，感谢游戏机制，我们橄榄镇工厂开业至今，都没有遇到过退货的情况。

除此之外，在不同仓库或货架之间移动物品的行为，成为移库。
或者将一个储位上的物品拆分、或着将多个储位的物品合并，也都是WMS的基本功能。

因为各种原因，账实不符也是仓库管理中常见的问题，就是实际的库存和 WMS 中账面上的库存对不上账。
那么怎么知道库存是不是一样的呢？这里就要用到盘点功能了。

盘点呢，是对库存商品实际数量进行清点的作业。
我们先设置要盘点哪个仓库，然后选择全盘还是抽盘。
这样就有了一份盘点底稿，要盘点哪些储位、上面有哪些东西。
之后一个储位一个储位的清点数量。
实际中，也许还需要不同的人进行复盘。
只盘点一次不稳妥，万一盘点的人给数错了呢？

毕竟盘点这玩意，不夸张的说，结果是盘盈还是盘亏，甚至可以改变一家公司是盈利还是亏损的状态。

但是等等，我们最初的目标似乎是需要更方便的，找到哪个物品是在哪个箱子里。

这里我们就需要再写一个查询功能。
输入物品的名字就能快速的找到在哪个箱子里。
比如我们要找苹果，在WMS系统中搜索后，根据结果显示就可以轻松在正确的箱子中找到苹果了。

嗯……功能差不多了，但是不够炫酷。
你想想，如果镇上的领导来你工厂里参观。
怎么才能直观的展示你仓储系统的先进呢。

为此，我们还可以再做一个可视化的看板。
可以清晰直观的看到仓库中每个储位的状态。

OK，这就是一个简单易懂的WMS系统了。

以上程序的相关代码采用 WTFPL 协议开源，真的能用，欢迎在Github上给我个Star。
https://github.com/MisakaAI/OliveWMS.git

（虽然也只是勉强能用，毕竟只能实现了一些最基本功能。大量在现代化 WMS 中，应当具备的功能，均有不同程度的缺失。）

那么，本期的视频到这里就结束了，感谢大家的耐心观看～
